(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n(1),a=n.n(o),i=n(30),s=n.n(i),r=(n(38),n(4)),l=(n(39),n(32)),u=n(10),j=n.n(u),d=function(e){var t=e.list,n=e.onRemoveList,o=void 0===n?function(e){return e}:n;return Object(c.jsxs)("div",{className:"single-list",children:[Object(c.jsx)("h4",{children:t.title}),Object(c.jsx)("p",{children:t.excerpt}),Object(c.jsx)("button",{onClick:function(){return o(t.id)},children:"Erase"}),Object(c.jsx)("hr",{})]},t.id)};n(16);var b=function(e){var t=Object(o.useState)({id:"",title:"",excerpt:""}),n=Object(r.a)(t,2);n[0],n[1]};var p=function(e){var t=e.onNewList,n=void 0===t?function(e){return e}:t,a=Object(o.useRef)(),i=Object(o.useState)(),s=Object(r.a)(i,2),l=s[0],u=s[1],j=Object(o.useState)(),d=Object(r.a)(j,2),b=d[0],p=d[1];return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(l,b),u(""),p(""),a.current.focus()},children:[Object(c.jsx)("input",{onChange:function(e){return u(e.target.value)},value:l,ref:a,type:"text",placeholder:"Title...",required:!0}),Object(c.jsx)("input",{onChange:function(e){return p(e.target.value)},value:b,type:"text",placeholder:"Excerpt...",required:!0}),Object(c.jsx)("button",{children:"Add List"})]})};var O=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(),s=Object(r.a)(i,2),u=s[0],O=s[1];Object(o.useEffect)((function(){j.a.get("/api/v1/lists.json").then((function(e){console.log(e),a(e.data)})).catch((function(e){return console.log(e)}))}),[]),console.log(n);var h=function(e){j.a.delete("/api/v1/lists/"+e).then((function(t){var c=n.filter((function(t){return t.id!==e}));console.log(c),a(c),console.log("\ud83e\udd85 "),console.log(n)})).catch((function(e){return console.log(e)}))},f=function(e,t,n){j.a.put("/api/v1/lists/"+e,{list:{title:t,excerpt:n}}).then((function(c){console.log(c);var o=o;o[e-1]={id:e,title:t,excerpt:n},a(o),O(null)})).catch((function(e){return console.log(e)}))};return Object(c.jsxs)("div",{className:"listContainer",children:[Object(c.jsx)("h1",{children:"LISTS"}),n.map((function(e){return u===e.id?Object(c.jsx)(b,{list:e,editList:f},e.id):Object(c.jsx)(d,{list:e,onRemoveList:h},e.id)})),Object(c.jsx)(p,{onNewList:function(e,t){j.a.post("/api/v1/lists",{list:{title:e,excerpt:t}}).then((function(e){console.log(e),a([].concat(Object(l.a)(n),[e.data]))})).catch((function(e){console.log(e)}))}}),Object(c.jsx)("br",{})]})},h=n(11),f=n(2);var g=function(){return console.log("HELLLLLO"),Object(c.jsx)("div",{className:"hello",children:Object(c.jsx)("h1",{children:"HELLO"})})},x=n(8);var v=function(e){var t=Object(o.useState)({email:"",password:""}),n=Object(r.a)(t,2),a=n[0],i=n[1],s=Object(o.useState)(),l=Object(r.a)(s,2),u=(l[0],l[1]),d=Object(f.f)(),b=function(){d.push("/")};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Log In"}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log("PROPS----"),console.log(e),j.a.post("/api/v1/login",{user:a},{withCredentials:!0}).then((function(t){t.data.logged_in?(console.log(t),e.handleLogin(t.data),b()):u(t.data.errors)})).catch((function(e){return console.log("api errors:",e)}))},children:[Object(c.jsx)("input",{placeholder:"email",type:"text",name:"email",value:a.email,onChange:function(e){return i(Object(x.a)(Object(x.a)({},a),{},{email:e.target.value}))}}),Object(c.jsx)("input",{placeholder:"password",type:"password",name:"password",value:a.password,onChange:function(e){return i(Object(x.a)(Object(x.a)({},a),{},{password:e.target.value}))}}),Object(c.jsx)("button",{placeholder:"submit",type:"submit",children:"Log In"}),Object(c.jsxs)("div",{children:["or ",Object(c.jsx)(h.b,{to:"/signup",children:"sign up"})]})]})]})};var m=function(e){var t=Object(o.useState)({email:"",password:"",password_confirmation:""}),n=Object(r.a)(t,2),a=n[0],i=n[1],s=Object(o.useState)(),l=Object(r.a)(s,2),u=(l[0],l[1]),d=Object(f.f)(),b=function(){d.push("/")};return Object(c.jsxs)("div",{className:"signUp",children:[Object(c.jsx)("h1",{children:"Sign Up"}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.post("/api/v1/users",{user:a},{withCredentials:!0}).then((function(t){"created"===t.data.status?(e.handleLogin(t.data),b()):u(t.data.errors)})).catch((function(e){return console.log("api errors:",e)}))},children:[Object(c.jsx)("input",{placeholder:"email",type:"text",name:"email",value:a.email,onChange:function(e){return i(Object(x.a)(Object(x.a)({},a),{},{email:e.target.value}))}}),Object(c.jsx)("input",{placeholder:"password",type:"password",name:"password",value:a.password,onChange:function(e){return i(Object(x.a)(Object(x.a)({},a),{},{password:e.target.value}))}}),Object(c.jsx)("input",{placeholder:"password confirmation",type:"password",name:"password_confirmation",value:a.password_confirmation,onChange:function(e){return i(Object(x.a)(Object(x.a)({},a),{},{password_confirmation:e.target.value}))}}),Object(c.jsx)("button",{placeholder:"submit",type:"submit",children:"Sign Up"})]})]})};var w=function(){Object(f.f)();var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=(t[0],t[1]),a=Object(o.useState)({}),i=Object(r.a)(a,2),s=(i[0],i[1]),l=function(e){n(!0),s(e.user)},u=function(){j.a.get("/logged_in",{withCredentials:!0}).then((function(e){e.data.logged_in?(console.log("LOGIN STATUS"),console.log(e),l(e)):(console.log("LOGGED OUT"),n(!1),s({}))})).catch((function(e){return console.log("api errors:",e)}))};return Object(o.useEffect)((function(){u()}),[]),Object(c.jsx)(h.a,{children:Object(c.jsx)(f.c,{children:Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(f.a,{exact:!0,path:"/",component:O}),Object(c.jsx)(f.a,{exact:!0,path:"/login",render:function(){return Object(c.jsx)(v,{handleLogin:l})}}),Object(c.jsx)(f.a,{exact:!0,path:"/signup",component:m}),Object(c.jsx)(f.a,{path:"/hello",component:g})]})})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),L()}},[[62,1,2]]]);
//# sourceMappingURL=main.11fbe59b.chunk.js.map